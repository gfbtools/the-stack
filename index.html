<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Stack — Developer Guide by GFB_Coder</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    /* ── RESET ─────────────────────────────────── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg:       #080B10;
      --bg2:      #0D1117;
      --bg3:      #111827;
      --card:     #131B26;
      --border:   #1E2D40;
      --border2:  #243040;
      --indigo:   #6366F1;
      --indigo2:  #818CF8;
      --emerald:  #10B981;
      --amber:    #F59E0B;
      --rose:     #F43F5E;
      --cyan:     #22D3EE;
      --orange:   #F97316;
      --purple:   #A78BFA;
      --white:    #F1F5F9;
      --muted:    #64748B;
      --muted2:   #94A3B8;
      --code-bg:  #060A0F;
      --code-txt: #A5F3FC;
      --supa:     #3ECF8E;
      --cf:       #F38020;
    }
    html { scroll-behavior: smooth; }
    body {
      background: var(--bg);
      color: var(--white);
      font-family: 'DM Sans', sans-serif;
      font-size: 16px;
      line-height: 1.6;
      overflow-x: hidden;
    }
    /* scanline overlay */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.06) 2px,
        rgba(0,0,0,0.06) 4px
      );
      pointer-events: none;
      z-index: 1000;
    }

    /* ── TYPOGRAPHY ─────────────────────────────── */
    h1,h2,h3,h4 { font-family: 'DM Sans', sans-serif; font-weight: 700; line-height: 1.15; }
    code, .mono { font-family: 'DM Mono', monospace; }
    .space-mono { font-family: 'Space Mono', monospace; }

    /* ── SCROLLBAR ──────────────────────────────── */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--indigo); }

    /* ── NAV ─────────────────────────────────────── */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 900;
      background: rgba(8,11,16,0.9);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
      padding: 0 2rem;
      height: 56px;
      display: flex; align-items: center; justify-content: space-between;
    }
    .nav-logo {
      font-family: 'Space Mono', monospace;
      font-size: 13px;
      color: var(--indigo2);
      letter-spacing: 0.05em;
      text-decoration: none;
    }
    .nav-logo span { color: var(--muted); }
    .nav-links {
      display: flex; gap: 0; list-style: none;
    }
    .nav-links a {
      display: block;
      padding: 6px 14px;
      font-size: 12px;
      font-family: 'DM Mono', monospace;
      color: var(--muted2);
      text-decoration: none;
      border: 1px solid transparent;
      border-radius: 4px;
      transition: all 0.15s;
    }
    .nav-links a:hover {
      color: var(--white);
      border-color: var(--border2);
      background: var(--card);
    }
    .nav-dl {
      font-family: 'DM Mono', monospace;
      font-size: 12px;
      padding: 7px 16px;
      background: var(--indigo);
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.15s;
    }
    .nav-dl:hover { background: var(--indigo2); }

    /* ── HERO ────────────────────────────────────── */
    #hero {
      min-height: 100vh;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      padding: 100px 2rem 60px;
      position: relative;
      text-align: center;
      overflow: hidden;
    }
    .hero-grid {
      position: absolute; inset: 0;
      background-image:
        linear-gradient(var(--border) 1px, transparent 1px),
        linear-gradient(90deg, var(--border) 1px, transparent 1px);
      background-size: 60px 60px;
      opacity: 0.35;
      mask-image: radial-gradient(ellipse 80% 70% at 50% 40%, black 30%, transparent 100%);
    }
    .hero-glow {
      position: absolute;
      width: 700px; height: 400px;
      top: 20%; left: 50%; transform: translate(-50%, -50%);
      background: radial-gradient(ellipse, rgba(99,102,241,0.15) 0%, transparent 70%);
      pointer-events: none;
    }
    .hero-tag {
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      letter-spacing: 0.18em;
      color: var(--indigo2);
      text-transform: uppercase;
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeUp 0.6s 0.1s forwards;
    }
    .hero-tag::before { content: '//  '; color: var(--muted); }
    h1.hero-title {
      font-size: clamp(52px, 9vw, 108px);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1;
      margin-bottom: 8px;
      opacity: 0;
      animation: fadeUp 0.6s 0.2s forwards;
    }
    .hero-title .t-stack { color: var(--white); }
    .hero-title .t-the {
      color: var(--muted);
      font-size: 0.45em;
      display: block;
      letter-spacing: 0.1em;
      font-family: 'Space Mono', monospace;
      margin-bottom: 4px;
    }
    .hero-sub {
      font-size: 18px;
      color: var(--muted2);
      max-width: 520px;
      margin: 24px auto 40px;
      font-weight: 300;
      opacity: 0;
      animation: fadeUp 0.6s 0.3s forwards;
    }
    .hero-badges {
      display: flex; flex-wrap: wrap; gap: 8px;
      justify-content: center;
      margin-bottom: 48px;
      opacity: 0;
      animation: fadeUp 0.6s 0.4s forwards;
    }
    .badge {
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      padding: 5px 14px;
      border: 1px solid var(--border2);
      border-radius: 3px;
      color: var(--muted2);
      background: var(--card);
      letter-spacing: 0.05em;
    }
    .badge.b-indigo  { border-color: rgba(99,102,241,0.5); color: var(--indigo2); }
    .badge.b-emerald { border-color: rgba(16,185,129,0.5); color: var(--emerald); }
    .badge.b-amber   { border-color: rgba(245,158,11,0.5); color: var(--amber); }
    .badge.b-supa    { border-color: rgba(62,207,142,0.5); color: var(--supa); }
    .badge.b-cf      { border-color: rgba(243,128,32,0.5); color: var(--cf); }
    .badge.b-white   { border-color: rgba(241,245,249,0.3); color: var(--white); }

    .hero-cta {
      display: flex; gap: 12px; justify-content: center;
      opacity: 0;
      animation: fadeUp 0.6s 0.5s forwards;
    }
    .btn-primary {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 12px 28px;
      background: var(--indigo);
      color: #fff;
      font-family: 'DM Mono', monospace;
      font-size: 13px;
      border-radius: 5px;
      text-decoration: none;
      border: none; cursor: pointer;
      transition: all 0.15s;
    }
    .btn-primary:hover { background: var(--indigo2); transform: translateY(-1px); }
    .btn-secondary {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 12px 28px;
      background: transparent;
      color: var(--muted2);
      font-family: 'DM Mono', monospace;
      font-size: 13px;
      border-radius: 5px;
      text-decoration: none;
      border: 1px solid var(--border2);
      transition: all 0.15s;
    }
    .btn-secondary:hover { border-color: var(--indigo); color: var(--white); }
    .hero-scroll {
      position: absolute; bottom: 32px; left: 50%; transform: translateX(-50%);
      font-family: 'DM Mono', monospace;
      font-size: 10px;
      color: var(--muted);
      letter-spacing: 0.15em;
      display: flex; flex-direction: column; align-items: center; gap: 8px;
      animation: pulse 2s infinite;
    }
    .hero-scroll::after {
      content: '';
      width: 1px; height: 40px;
      background: linear-gradient(var(--muted), transparent);
    }

    /* ── TOC STRIP ───────────────────────────────── */
    #toc {
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      background: var(--bg2);
      padding: 0 2rem;
      overflow-x: auto;
    }
    .toc-inner {
      max-width: 1200px; margin: 0 auto;
      display: flex; align-items: stretch;
    }
    .toc-item {
      display: flex; align-items: center; gap: 10px;
      padding: 14px 20px;
      border-right: 1px solid var(--border);
      text-decoration: none;
      white-space: nowrap;
      transition: background 0.15s;
    }
    .toc-item:first-child { border-left: 1px solid var(--border); }
    .toc-item:hover { background: var(--card); }
    .toc-num {
      font-family: 'Space Mono', monospace;
      font-size: 10px;
      color: var(--muted);
    }
    .toc-label {
      font-size: 12px;
      font-family: 'DM Mono', monospace;
      color: var(--muted2);
    }
    .toc-item:hover .toc-label { color: var(--white); }

    /* ── SECTION WRAPPER ─────────────────────────── */
    .section {
      max-width: 1100px;
      margin: 0 auto;
      padding: 90px 2rem;
    }
    .section + .section { border-top: 1px solid var(--border); }

    /* ── SECTION HEADER ──────────────────────────── */
    .sec-header {
      display: flex; align-items: flex-start; gap: 20px;
      margin-bottom: 48px;
    }
    .sec-num {
      font-family: 'Space Mono', monospace;
      font-size: 11px;
      color: var(--muted);
      padding: 4px 10px;
      border: 1px solid var(--border2);
      border-radius: 3px;
      margin-top: 6px;
      white-space: nowrap;
    }
    .sec-title-block h2 {
      font-size: clamp(28px, 4vw, 42px);
      letter-spacing: -0.02em;
      margin-bottom: 6px;
    }
    .sec-title-block p {
      font-size: 15px;
      color: var(--muted2);
      font-weight: 300;
    }
    .accent-bar {
      width: 3px; height: 100%;
      min-height: 50px;
      border-radius: 2px;
      flex-shrink: 0;
    }

    /* ── STEP CARDS ──────────────────────────────── */
    .steps { display: flex; flex-direction: column; gap: 16px; }
    .step-card {
      display: grid;
      grid-template-columns: 48px 1fr;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
      transition: border-color 0.2s;
    }
    .step-card:hover { border-color: var(--border2); }
    .step-num-col {
      display: flex; align-items: flex-start; justify-content: center;
      padding-top: 20px;
      background: rgba(0,0,0,0.2);
      border-right: 1px solid var(--border);
    }
    .step-num-col span {
      font-family: 'Space Mono', monospace;
      font-size: 13px;
      font-weight: 700;
    }
    .step-body { padding: 20px 24px; }
    .step-body h3 {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--white);
    }
    .step-body p { font-size: 14px; color: var(--muted2); margin-bottom: 8px; }
    .step-body p:last-child { margin-bottom: 0; }

    /* ── CODE BLOCKS ─────────────────────────────── */
    .code-block {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      overflow: hidden;
      margin: 12px 0;
    }
    .code-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 8px 14px;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,0.02);
    }
    .code-label {
      font-family: 'DM Mono', monospace;
      font-size: 10px;
      color: var(--muted);
      letter-spacing: 0.1em;
      text-transform: uppercase;
    }
    .copy-btn {
      font-family: 'DM Mono', monospace;
      font-size: 10px;
      color: var(--muted);
      background: none; border: 1px solid var(--border);
      padding: 3px 10px; border-radius: 3px;
      cursor: pointer; transition: all 0.15s;
    }
    .copy-btn:hover { color: var(--white); border-color: var(--border2); }
    .copy-btn.copied { color: var(--emerald); border-color: var(--emerald); }
    pre {
      padding: 16px;
      font-family: 'DM Mono', monospace;
      font-size: 13px;
      line-height: 1.7;
      color: var(--code-txt);
      overflow-x: auto;
      white-space: pre;
    }
    pre .cm  { color: var(--muted); font-style: italic; } /* comment */
    pre .kw  { color: var(--purple); }   /* keyword */
    pre .fn  { color: var(--cyan); }     /* function */
    pre .st  { color: var(--emerald); }  /* string */
    pre .nu  { color: var(--amber); }    /* number */
    pre .pr  { color: var(--indigo2); }  /* property */
    pre .op  { color: var(--muted2); }   /* operator */

    /* ── SQL BLOCKS ──────────────────────────────── */
    .sql-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media(max-width:820px) { .sql-grid { grid-template-columns: 1fr; } }
    .sql-card {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }
    .sql-card-header {
      padding: 10px 14px;
      background: rgba(62,207,142,0.06);
      border-bottom: 1px solid rgba(62,207,142,0.15);
      font-family: 'DM Mono', monospace;
      font-size: 10px;
      color: var(--supa);
      letter-spacing: 0.08em;
      display: flex; align-items: center; justify-content: space-between;
    }
    .sql-card pre {
      font-size: 12px;
      padding: 14px;
      color: var(--code-txt);
    }

    /* ── TABLE ───────────────────────────────────── */
    .ref-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      margin: 16px 0;
    }
    .ref-table thead th {
      font-family: 'DM Mono', monospace;
      font-size: 10px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--muted);
      padding: 10px 14px;
      text-align: left;
      border-bottom: 1px solid var(--border2);
    }
    .ref-table tbody tr {
      border-bottom: 1px solid var(--border);
      transition: background 0.1s;
    }
    .ref-table tbody tr:hover { background: rgba(255,255,255,0.02); }
    .ref-table tbody tr:last-child { border-bottom: none; }
    .ref-table td { padding: 10px 14px; vertical-align: top; }
    .ref-table td:first-child {
      font-family: 'DM Mono', monospace;
      font-size: 12px;
      color: var(--cyan);
      white-space: nowrap;
    }
    .ref-table td:nth-child(2) { color: var(--muted2); }
    .ref-table td:nth-child(3) { color: var(--white); }

    /* ── INFO BOXES ──────────────────────────────── */
    .info-row { display: flex; flex-direction: column; gap: 10px; margin: 20px 0; }
    .info-box {
      display: flex; gap: 12px; align-items: flex-start;
      padding: 14px 16px;
      border-radius: 6px;
      font-size: 13px;
    }
    .info-box.warn {
      background: rgba(245,158,11,0.07);
      border: 1px solid rgba(245,158,11,0.25);
    }
    .info-box.tip {
      background: rgba(16,185,129,0.07);
      border: 1px solid rgba(16,185,129,0.25);
    }
    .info-box.err {
      background: rgba(244,63,94,0.07);
      border: 1px solid rgba(244,63,94,0.25);
    }
    .info-icon {
      font-family: 'Space Mono', monospace;
      font-size: 10px;
      font-weight: 700;
      padding: 3px 8px;
      border-radius: 3px;
      white-space: nowrap;
      margin-top: 1px;
    }
    .warn .info-icon { background: rgba(245,158,11,0.2); color: var(--amber); }
    .tip  .info-icon { background: rgba(16,185,129,0.2); color: var(--emerald); }
    .err  .info-icon { background: rgba(244,63,94,0.2);  color: var(--rose); }
    .info-box p { color: var(--muted2); }
    .info-box p strong { color: var(--white); }

    /* ── TWO COL ─────────────────────────────────── */
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media(max-width:700px) { .two-col { grid-template-columns: 1fr; } }
    .three-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
    @media(max-width:900px) { .three-col { grid-template-columns: 1fr 1fr; } }
    @media(max-width:600px) { .three-col { grid-template-columns: 1fr; } }

    /* ── LABEL ───────────────────────────────────── */
    .label {
      font-family: 'DM Mono', monospace;
      font-size: 10px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--indigo2);
      margin-bottom: 10px;
      margin-top: 20px;
      display: flex; align-items: center; gap: 8px;
    }
    .label::before {
      content: '';
      display: inline-block;
      width: 16px; height: 1px;
      background: var(--indigo2);
    }
    .label.supa-lbl { color: var(--supa); }
    .label.supa-lbl::before { background: var(--supa); }
    .label.cf-lbl   { color: var(--cf); }
    .label.cf-lbl::before { background: var(--cf); }
    .label.gh-lbl   { color: var(--purple); }
    .label.gh-lbl::before { background: var(--purple); }

    /* ── FLOW DIAGRAM ────────────────────────────── */
    .flow-diagram {
      display: flex; align-items: center; gap: 0;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 24px;
      margin: 20px 0;
      overflow-x: auto;
    }
    .flow-node {
      flex: 1; min-width: 120px;
      text-align: center;
      padding: 12px 16px;
      border: 1px solid var(--border2);
      border-radius: 6px;
      background: var(--bg2);
    }
    .flow-node .fn-label {
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      color: var(--white);
      font-weight: 500;
    }
    .flow-node .fn-sub {
      font-size: 10px;
      color: var(--muted);
      margin-top: 2px;
      font-family: 'DM Mono', monospace;
    }
    .flow-node.highlight { border-color: rgba(243,128,32,0.5); background: rgba(243,128,32,0.06); }
    .flow-node.highlight .fn-label { color: var(--cf); }
    .flow-arrow {
      font-size: 18px;
      color: var(--muted);
      padding: 0 12px;
      flex-shrink: 0;
    }

    /* ── TROUBLESHOOT ────────────────────────────── */
    .trouble-grid { display: flex; flex-direction: column; gap: 12px; }
    .trouble-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }
    .trouble-header {
      display: flex; align-items: center; gap: 12px;
      padding: 14px 20px;
      border-bottom: 1px solid var(--border);
      cursor: pointer;
      transition: background 0.15s;
    }
    .trouble-header:hover { background: rgba(255,255,255,0.02); }
    .trouble-tag {
      font-family: 'DM Mono', monospace;
      font-size: 9px;
      padding: 3px 8px;
      border-radius: 2px;
      font-weight: 700;
      text-transform: uppercase;
      white-space: nowrap;
    }
    .tag-supa  { background: rgba(62,207,142,0.15); color: var(--supa); }
    .tag-cf    { background: rgba(243,128,32,0.15);  color: var(--cf); }
    .tag-vercel{ background: rgba(241,245,249,0.1);  color: var(--white); }
    .tag-git   { background: rgba(167,139,250,0.15); color: var(--purple); }
    .trouble-problem {
      font-size: 14px;
      font-weight: 500;
      color: var(--white);
      flex: 1;
    }
    .trouble-arrow { color: var(--muted); font-size: 18px; transition: transform 0.2s; }
    .trouble-card.open .trouble-arrow { transform: rotate(90deg); }
    .trouble-body {
      padding: 0 20px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, padding 0.3s;
    }
    .trouble-card.open .trouble-body {
      max-height: 600px;
      padding: 16px 20px 20px;
    }
    .trouble-cause {
      font-size: 13px;
      color: var(--amber);
      font-style: italic;
      margin-bottom: 12px;
    }

    /* ── CHEATSHEET ──────────────────────────────── */
    #cheatsheet { background: var(--bg2); border-top: 1px solid var(--border); }
    .cheat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 16px;
    }
    .cheat-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }
    .cheat-card-header {
      padding: 10px 16px;
      border-bottom: 1px solid var(--border);
      font-family: 'Space Mono', monospace;
      font-size: 9px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }
    .cheat-row {
      display: grid; grid-template-columns: 1fr 1fr;
      border-bottom: 1px solid var(--border);
    }
    .cheat-row:last-child { border-bottom: none; }
    .cheat-cmd {
      padding: 8px 12px;
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      color: var(--cyan);
      border-right: 1px solid var(--border);
      word-break: break-all;
    }
    .cheat-desc {
      padding: 8px 12px;
      font-size: 11px;
      color: var(--muted2);
    }

    /* ── FOOTER ──────────────────────────────────── */
    footer {
      border-top: 1px solid var(--border);
      padding: 40px 2rem;
      text-align: center;
    }
    .footer-inner { max-width: 1100px; margin: 0 auto; }
    .footer-logo {
      font-family: 'Space Mono', monospace;
      font-size: 18px;
      color: var(--white);
      margin-bottom: 8px;
    }
    .footer-logo span { color: var(--indigo2); }
    .footer-sub {
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 24px;
    }
    .footer-links { display: flex; gap: 24px; justify-content: center; margin-bottom: 32px; }
    .footer-links a {
      font-family: 'DM Mono', monospace;
      font-size: 12px;
      color: var(--muted2);
      text-decoration: none;
    }
    .footer-links a:hover { color: var(--white); }
    .footer-credit {
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      color: var(--muted);
    }
    .footer-credit a { color: var(--indigo2); text-decoration: none; }

    /* ── ANIMATIONS ──────────────────────────────── */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes pulse {
      0%,100% { opacity: 0.4; }
      50%      { opacity: 1; }
    }
    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.55s ease, transform 0.55s ease;
    }
    .reveal.visible { opacity: 1; transform: translateY(0); }

    /* ── MISC ────────────────────────────────────── */
    .divider {
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border2), transparent);
      margin: 32px 0;
    }
    .section-intro {
      max-width: 680px;
      font-size: 15px;
      color: var(--muted2);
      font-weight: 300;
      line-height: 1.7;
      margin-bottom: 36px;
    }
    .note-text {
      font-size: 12px;
      font-family: 'DM Mono', monospace;
      color: var(--amber);
      font-style: italic;
      margin: 6px 0;
    }

    @media(max-width:768px) {
      .nav-links { display: none; }
      .hero-title { font-size: 52px; }
      .sec-header { flex-direction: column; gap: 10px; }
      .two-col, .sql-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

<!-- ── NAV ──────────────────────────────────────────────────── -->
<nav>
  <a href="#hero" class="nav-logo">THE<span>_</span>STACK</a>
  <ul class="nav-links">
    <li><a href="#terminal">Terminal</a></li>
    <li><a href="#project">Project</a></li>
    <li><a href="#github">GitHub</a></li>
    <li><a href="#supabase">Supabase</a></li>
    <li><a href="#envvars">Env Vars</a></li>
    <li><a href="#cloudflare">Cloudflare</a></li>
    <li><a href="#vercel">Vercel</a></li>
    <li><a href="#troubleshoot">Fixes</a></li>
    <li><a href="#cheatsheet">Cheat</a></li>
  </ul>
  <a href="#" class="nav-dl" id="dl-btn">↓ PDF</a>
</nav>

<!-- ── HERO ─────────────────────────────────────────────────── -->
<section id="hero">
  <div class="hero-grid"></div>
  <div class="hero-glow"></div>

  <p class="hero-tag">Developer Guide by GFB_Coder</p>
  <h1 class="hero-title">
    <span class="t-the">THE</span>
    <span class="t-stack">STACK</span>
  </h1>
  <p class="hero-sub">A step-by-step guide to the full development workflow — from terminal to live deployment.</p>

  <div class="hero-badges">
    <span class="badge b-indigo">Terminal</span>
    <span class="badge b-indigo">Vite + React + TS</span>
    <span class="badge b-emerald">GitHub</span>
    <span class="badge b-supa">Supabase</span>
    <span class="badge b-cf">Cloudflare Workers</span>
    <span class="badge b-white">Vercel</span>
  </div>

  <div class="hero-cta">
    <a href="#terminal" class="btn-primary">Read the Guide →</a>
    <a href="#" class="btn-secondary" id="dl-btn2">Download PDF</a>
  </div>

  <div class="hero-scroll">SCROLL</div>
</section>

<!-- ── TOC STRIP ─────────────────────────────────────────────── -->
<div id="toc">
  <div class="toc-inner">
    <a href="#terminal"    class="toc-item"><span class="toc-num">01</span><span class="toc-label">Terminal</span></a>
    <a href="#project"     class="toc-item"><span class="toc-num">02</span><span class="toc-label">New Project</span></a>
    <a href="#github"      class="toc-item"><span class="toc-num">03</span><span class="toc-label">GitHub</span></a>
    <a href="#supabase"    class="toc-item"><span class="toc-num">04</span><span class="toc-label">Supabase</span></a>
    <a href="#envvars"     class="toc-item"><span class="toc-num">05</span><span class="toc-label">Env Vars</span></a>
    <a href="#cloudflare"  class="toc-item"><span class="toc-num">06</span><span class="toc-label">Cloudflare</span></a>
    <a href="#vercel"      class="toc-item"><span class="toc-num">07</span><span class="toc-label">Vercel</span></a>
    <a href="#troubleshoot"class="toc-item"><span class="toc-num">08</span><span class="toc-label">Troubleshoot</span></a>
    <a href="#cheatsheet"  class="toc-item"><span class="toc-num">09</span><span class="toc-label">Cheatsheet</span></a>
  </div>
</div>

<!-- ═══════════════════════════════════════════════════════════
  01 — TERMINAL
════════════════════════════════════════════════════════════ -->
<section id="terminal">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--indigo)"></div>
      <span class="sec-num">01</span>
      <div class="sec-title-block">
        <h2>Terminal Basics</h2>
        <p>Commands every developer needs to know</p>
      </div>
    </div>

    <p class="section-intro reveal">
      The terminal lets you control your computer with text commands. It looks intimidating but you only need about 15 commands to handle 90% of your work. Even experienced developers look things up — just know the core set cold.
    </p>

    <div class="label reveal">How to open it</div>
    <div class="two-col reveal">
      <div class="step-card">
        <div class="step-num-col" style="background:rgba(99,102,241,0.1)"><span style="color:var(--indigo2)">Mac</span></div>
        <div class="step-body">
          <h3>Mac / macOS</h3>
          <p><strong>Cmd + Space</strong> → type Terminal → Enter</p>
          <p>Or: Applications → Utilities → Terminal</p>
        </div>
      </div>
      <div class="step-card">
        <div class="step-num-col" style="background:rgba(99,102,241,0.1)"><span style="color:var(--indigo2)">Win</span></div>
        <div class="step-body">
          <h3>Windows</h3>
          <p><strong>Win + R</strong> → type <code>powershell</code> → Enter</p>
          <p>PowerShell is better than cmd for dev work.</p>
        </div>
      </div>
    </div>
    <div class="step-card reveal" style="margin-top:12px">
      <div class="step-num-col" style="background:rgba(99,102,241,0.1)"><span style="color:var(--indigo2)">VS</span></div>
      <div class="step-body">
        <h3>VS Code (recommended)</h3>
        <p>Press <strong>Ctrl + `</strong> (backtick — top-left of keyboard). Opens a terminal right inside your editor. This is the way.</p>
      </div>
    </div>

    <div class="label reveal" style="margin-top:36px">Navigation commands</div>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre>pwd              <span class="cm"># Print Working Directory — shows where you are</span>
ls               <span class="cm"># List files and folders in current location</span>
ls -la           <span class="cm"># List ALL files including hidden ones (.env, .gitignore)</span>
cd folder-name   <span class="cm"># Move into a folder</span>
cd ..            <span class="cm"># Go up one level</span>
cd ~             <span class="cm"># Jump to home directory from anywhere</span>
cd ~/Desktop     <span class="cm"># Go directly to Desktop</span>
mkdir my-folder  <span class="cm"># Create a new empty folder</span>
touch file.txt   <span class="cm"># Create an empty file</span>
rm filename      <span class="cm"># Delete a file — permanent, no undo</span>
rm -rf folder    <span class="cm"># Delete entire folder — be very careful</span>
cat filename     <span class="cm"># Print file contents in terminal</span>
clear            <span class="cm"># Clear the terminal screen</span>
history          <span class="cm"># Show all commands you've previously run</span></pre>
    </div>

    <div class="label reveal">NPM commands</div>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">npm</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre>npm install               <span class="cm"># Install all project dependencies</span>
npm install package-name  <span class="cm"># Add a new package</span>
npm install -D package    <span class="cm"># Add as dev-only dependency</span>
npm uninstall package     <span class="cm"># Remove a package</span>
npm run dev               <span class="cm"># Start dev server — localhost:5173</span>
npm run build             <span class="cm"># Build production version into /dist</span>
npm run preview           <span class="cm"># Preview the production build locally</span>
node -v                   <span class="cm"># Check Node.js version (need v18+)</span>
npm -v                    <span class="cm"># Check npm version</span></pre>
    </div>

    <div class="info-row reveal">
      <div class="info-box tip"><span class="info-icon">TIP</span><p>Press <strong>Tab</strong> to auto-complete folder and file names. Press the <strong>Up arrow</strong> to recall your last command. These two shortcuts save more time than anything else.</p></div>
      <div class="info-box warn"><span class="info-icon">WARN</span><p><strong>rm -rf</strong> has no confirmation prompt and no undo. Always double-check the path you're deleting before running it.</p></div>
    </div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  02 — NEW PROJECT
════════════════════════════════════════════════════════════ -->
<section id="project" style="background:var(--bg2)">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--emerald)"></div>
      <span class="sec-num">02</span>
      <div class="sec-title-block">
        <h2>Setting Up a New Project</h2>
        <p>Vite + React + TypeScript from scratch</p>
      </div>
    </div>

    <p class="section-intro reveal">
      Every app starts here. Vite is the build tool, React is the UI framework, TypeScript adds type-safety. This trio is the modern standard — fast, reliable, and what all your current projects use.
    </p>

    <div class="steps">
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(16,185,129,0.1)"><span style="color:var(--emerald)">1</span></div>
        <div class="step-body">
          <h3>Install Node.js (one-time)</h3>
          <p>Go to <strong>nodejs.org</strong> → download the LTS version → install it. Then verify:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>node -v   <span class="cm"># should show v18 or higher</span>
npm -v    <span class="cm"># should show v9 or higher</span></pre></div>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(16,185,129,0.1)"><span style="color:var(--emerald)">2</span></div>
        <div class="step-body">
          <h3>Create the project with Vite</h3>
          <p>Navigate to where you want your project, then run:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>npm create vite@latest my-app-name</pre></div>
          <p>When prompted: select <strong>React</strong>, then <strong>TypeScript</strong>. Replace <code>my-app-name</code> with your project name — no spaces, use dashes.</p>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(16,185,129,0.1)"><span style="color:var(--emerald)">3</span></div>
        <div class="step-body">
          <h3>Enter the project and install dependencies</h3>
          <div class="code-block"><div class="code-header"><span class="code-label">Run one at a time</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>cd my-app-name
npm install
npm run dev</pre></div>
          <p>Open <strong>http://localhost:5173</strong> — you should see the Vite welcome screen.</p>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(16,185,129,0.1)"><span style="color:var(--emerald)">4</span></div>
        <div class="step-body">
          <h3>Install common packages</h3>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>npm install @supabase/supabase-js
npm install react-router-dom
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p</pre></div>
        </div>
      </div>
    </div>

    <div class="label reveal" style="margin-top:40px">Project structure — what everything is</div>
    <table class="ref-table reveal">
      <thead><tr><th>Path</th><th>What it is</th></tr></thead>
      <tbody>
        <tr><td>src/</td><td>All your source code lives here — this is where you work</td></tr>
        <tr><td>src/App.tsx</td><td>Main app component — start here</td></tr>
        <tr><td>src/main.tsx</td><td>Entry point — mounts your app. Rarely edit this.</td></tr>
        <tr><td>src/components/</td><td>Create this folder for reusable UI components</td></tr>
        <tr><td>src/lib/</td><td>Create this for the Supabase client, helpers, utilities</td></tr>
        <tr><td>src/types/</td><td>Create this for TypeScript type definitions</td></tr>
        <tr><td>public/</td><td>Static files served directly — images, fonts, icons</td></tr>
        <tr><td>vite.config.ts</td><td>Vite config — sometimes edited for deployment base path</td></tr>
        <tr><td>package.json</td><td>Lists all dependencies and available npm scripts</td></tr>
        <tr><td>.env</td><td>Your secret keys — NEVER commit to GitHub</td></tr>
        <tr><td>.gitignore</td><td>Tells Git which files to never upload</td></tr>
        <tr><td>node_modules/</td><td>Installed packages — never edit or upload this folder</td></tr>
        <tr><td>dist/</td><td>Built production files — created by npm run build</td></tr>
      </tbody>
    </table>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  03 — GITHUB
════════════════════════════════════════════════════════════ -->
<section id="github">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--purple)"></div>
      <span class="sec-num">03</span>
      <div class="sec-title-block">
        <h2>GitHub Setup & Pushing Code</h2>
        <p>Version control and the everyday workflow</p>
      </div>
    </div>

    <p class="section-intro reveal">
      GitHub stores your code in the cloud. Every push is a snapshot you can roll back to. It also makes Vercel deployment automatic — every push triggers a live redeploy.
    </p>

    <div class="label gh-lbl reveal">First-time setup (do once)</div>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">Terminal — one-time config</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="cm"># 1. Install Git: git-scm.com (pre-installed on Mac)</span>
<span class="cm"># 2. Set your identity</span>
git config --global user.name "Your Name"
git config --global user.email "you@email.com"
<span class="cm"># 3. Verify</span>
git config --list</pre>
    </div>

    <div class="steps" style="margin-top:24px">
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(167,139,250,0.1)"><span style="color:var(--purple)">1</span></div>
        <div class="step-body">
          <h3>Create a new repo on GitHub</h3>
          <p>github.com → click <strong>+</strong> icon → New repository → give it a name → Create.</p>
          <p class="note-text">⚠ Do NOT initialize with README if you already have local code.</p>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(167,139,250,0.1)"><span style="color:var(--purple)">2</span></div>
        <div class="step-body">
          <h3>Initialize Git in your project</h3>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal — inside your project folder</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>git init
git add .
git commit -m "initial commit"</pre></div>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(167,139,250,0.1)"><span style="color:var(--purple)">3</span></div>
        <div class="step-body">
          <h3>Connect to GitHub and push</h3>
          <p>GitHub shows you these exact commands after creating the repo:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>git remote add origin https://github.com/yourname/repo.git
git branch -M main
git push -u origin main</pre></div>
          <p>After this first push, just use <code>git push</code> going forward.</p>
        </div>
      </div>
    </div>

    <div class="label gh-lbl reveal" style="margin-top:36px">Everyday workflow</div>
    <table class="ref-table reveal">
      <thead><tr><th>Command</th><th>What it does</th></tr></thead>
      <tbody>
        <tr><td>git status</td><td>See what files changed since last commit</td></tr>
        <tr><td>git diff filename</td><td>See exactly what changed inside a specific file</td></tr>
        <tr><td>git add .</td><td>Stage ALL changed files</td></tr>
        <tr><td>git add filename</td><td>Stage only a specific file</td></tr>
        <tr><td>git commit -m "message"</td><td>Save a snapshot — be descriptive</td></tr>
        <tr><td>git push</td><td>Upload commits to GitHub</td></tr>
        <tr><td>git pull</td><td>Download latest (multiple machines)</td></tr>
        <tr><td>git log --oneline</td><td>Condensed history of commits</td></tr>
        <tr><td>git stash</td><td>Temporarily save uncommitted changes</td></tr>
        <tr><td>git stash pop</td><td>Restore stashed changes</td></tr>
      </tbody>
    </table>

    <div class="label gh-lbl reveal" style="margin-top:28px">Your .gitignore file — required for every project</div>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">.gitignore — paste this into every project</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre>node_modules/
dist/
.env
.env.local
.env.production
.DS_Store
*.log</pre>
    </div>
    <div class="info-box warn reveal" style="margin-top:12px"><span class="info-icon">WARN</span><p>If you accidentally push a .env file with real API keys, <strong>change all those keys immediately.</strong> GitHub scans public repos for exposed secrets and bots grab them within minutes.</p></div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  04 — SUPABASE
════════════════════════════════════════════════════════════ -->
<section id="supabase" style="background:var(--bg2)">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--supa)"></div>
      <span class="sec-num">04</span>
      <div class="sec-title-block">
        <h2>Supabase Setup</h2>
        <p>Database, authentication, file storage + full SQL reference</p>
      </div>
    </div>

    <p class="section-intro reveal">
      Supabase gives you a PostgreSQL database, user auth, and file storage — all in one dashboard, no server required. The SQL Editor is where you'll spend real time: creating tables, fixing auth issues, and setting access policies.
    </p>

    <div class="steps">
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(62,207,142,0.08)"><span style="color:var(--supa)">1</span></div>
        <div class="step-body">
          <h3>Create account and project</h3>
          <p>Go to <strong>supabase.com</strong> → Sign Up → New Project. Set a strong database password and save it. Pick a region close to your users.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(62,207,142,0.08)"><span style="color:var(--supa)">2</span></div>
        <div class="step-body">
          <h3>Get your API credentials</h3>
          <p>Dashboard → <strong>Settings → API</strong>. You need two values:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">.env</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>VITE_SUPABASE_URL=https://xxxxxxxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGci...</pre></div>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(62,207,142,0.08)"><span style="color:var(--supa)">3</span></div>
        <div class="step-body">
          <h3>Install SDK and create client file</h3>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>npm install @supabase/supabase-js</pre></div>
          <p>Create <code>src/lib/supabase.ts</code>:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">src/lib/supabase.ts</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre><span class="kw">import</span> { createClient } <span class="kw">from</span> <span class="st">'@supabase/supabase-js'</span>

<span class="kw">const</span> url = import.meta.env.VITE_SUPABASE_URL
<span class="kw">const</span> key = import.meta.env.VITE_SUPABASE_ANON_KEY

<span class="kw">export const</span> supabase = createClient(url, key)</pre></div>
        </div>
      </div>
    </div>

    <!-- SQL REFERENCE -->
    <div class="label supa-lbl reveal" style="margin-top:48px">SQL Reference — Table Creation</div>
    <p class="section-intro reveal" style="margin-bottom:20px">Go to Dashboard → SQL Editor → New Query. Paste any of these and click Run.</p>

    <div class="sql-grid">
      <div class="sql-card reveal">
        <div class="sql-card-header">Profiles Table<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>CREATE TABLE public.profiles (
  id uuid REFERENCES auth.users(id)
    PRIMARY KEY,
  username text UNIQUE,
  full_name text,
  avatar_url text,
  created_at timestamptz DEFAULT now()
);</pre>
      </div>
      <div class="sql-card reveal">
        <div class="sql-card-header">Tracks Table<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>CREATE TABLE public.tracks (
  id uuid DEFAULT gen_random_uuid()
    PRIMARY KEY,
  user_id uuid REFERENCES auth.users(id)
    ON DELETE CASCADE,
  title text NOT NULL,
  artist text,
  album text,
  duration_seconds integer,
  file_url text,
  created_at timestamptz DEFAULT now()
);</pre>
      </div>
      <div class="sql-card reveal">
        <div class="sql-card-header">Playlists Table<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>CREATE TABLE public.playlists (
  id uuid DEFAULT gen_random_uuid()
    PRIMARY KEY,
  user_id uuid REFERENCES auth.users(id)
    ON DELETE CASCADE,
  name text NOT NULL,
  description text,
  track_ids uuid[],
  created_at timestamptz DEFAULT now()
);</pre>
      </div>
      <div class="sql-card reveal">
        <div class="sql-card-header">Play Logs Table (PRO Reporting)<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>CREATE TABLE public.play_logs (
  id uuid DEFAULT gen_random_uuid()
    PRIMARY KEY,
  user_id uuid REFERENCES auth.users(id),
  track_id uuid REFERENCES public.tracks(id),
  played_at timestamptz DEFAULT now(),
  duration_played integer
);</pre>
      </div>
      <div class="sql-card reveal">
        <div class="sql-card-header">Add PRO / Publishing Columns to Profiles<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>ALTER TABLE public.profiles
  ADD COLUMN IF NOT EXISTS primary_pro text,
  ADD COLUMN IF NOT EXISTS ascap_id text,
  ADD COLUMN IF NOT EXISTS bmi_id text,
  ADD COLUMN IF NOT EXISTS sesac_id text,
  ADD COLUMN IF NOT EXISTS gmr_id text,
  ADD COLUMN IF NOT EXISTS socan_id text,
  ADD COLUMN IF NOT EXISTS ipi_number text,
  ADD COLUMN IF NOT EXISTS isni_number text,
  ADD COLUMN IF NOT EXISTS publisher_name text,
  ADD COLUMN IF NOT EXISTS publisher_ipi text,
  ADD COLUMN IF NOT EXISTS distributor_name text,
  ADD COLUMN IF NOT EXISTS label_name text;</pre>
      </div>
      <div class="sql-card reveal">
        <div class="sql-card-header">Auto-Create Profile on Signup (Trigger)<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>CREATE OR REPLACE FUNCTION
  public.handle_new_user()
RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO public.profiles
    (id, full_name, avatar_url)
  VALUES (
    NEW.id,
    NEW.raw_user_meta_data->>'full_name',
    NEW.raw_user_meta_data->>'avatar_url'
  );
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION
    public.handle_new_user();</pre>
      </div>
    </div>

    <div class="label supa-lbl reveal" style="margin-top:36px">SQL Reference — Auth Fixes</div>
    <div class="sql-grid">
      <div class="sql-card reveal">
        <div class="sql-card-header">Fix Login — Manually Confirm Email<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>UPDATE auth.users
SET
  email_confirmed_at = now(),
  confirmed_at = now()
WHERE email = 'your@email.com';</pre>
      </div>
      <div class="sql-card reveal">
        <div class="sql-card-header">Check If User Exists<button class="copy-btn" onclick="copyCode(this)" style="font-size:9px">copy</button></div>
        <pre>SELECT
  id,
  email,
  email_confirmed_at,
  created_at
FROM auth.users
WHERE email = 'your@email.com';</pre>
      </div>
    </div>

    <div class="label supa-lbl reveal" style="margin-top:36px">SQL Reference — Row Level Security (RLS)</div>
    <p class="section-intro reveal" style="margin-bottom:20px; font-size:14px">Always enable RLS on tables that store user data. Without it, any authenticated user can read everyone's data.</p>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">RLS — Enable and add policies</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="cm">-- 1. Enable RLS</span>
ALTER TABLE public.tracks ENABLE ROW LEVEL SECURITY;

<span class="cm">-- 2. SELECT — users see only their own rows</span>
CREATE POLICY "Users can view own tracks"
  ON public.tracks FOR SELECT
  USING (auth.uid() = user_id);

<span class="cm">-- 3. INSERT — users can only add their own rows</span>
CREATE POLICY "Users can insert own tracks"
  ON public.tracks FOR INSERT
  WITH CHECK (auth.uid() = user_id);

<span class="cm">-- 4. DELETE — users can only delete their own rows</span>
CREATE POLICY "Users can delete own tracks"
  ON public.tracks FOR DELETE
  USING (auth.uid() = user_id);

<span class="cm">-- Public read (for shared content)</span>
CREATE POLICY "Public read access"
  ON public.tracks FOR SELECT
  USING (true);

<span class="cm">-- Check all existing policies on a table</span>
SELECT policyname, cmd, qual
FROM pg_policies
WHERE tablename = 'tracks';</pre>
    </div>

    <div class="label supa-lbl reveal" style="margin-top:36px">Auth SDK Calls</div>
    <table class="ref-table reveal">
      <thead><tr><th>Action</th><th>Code</th></tr></thead>
      <tbody>
        <tr><td>Register</td><td><code>supabase.auth.signUp({ email, password })</code></td></tr>
        <tr><td>Sign in</td><td><code>supabase.auth.signInWithPassword({ email, password })</code></td></tr>
        <tr><td>Sign out</td><td><code>supabase.auth.signOut()</code></td></tr>
        <tr><td>Get user</td><td><code>const { data: { user } } = await supabase.auth.getUser()</code></td></tr>
        <tr><td>Auth listener</td><td><code>supabase.auth.onAuthStateChange((event, session) => {})</code></td></tr>
        <tr><td>Get session</td><td><code>const { data: { session } } = await supabase.auth.getSession()</code></td></tr>
        <tr><td>Update user</td><td><code>supabase.auth.updateUser({ email: 'new@email.com' })</code></td></tr>
        <tr><td>Password reset</td><td><code>supabase.auth.resetPasswordForEmail(email)</code></td></tr>
      </tbody>
    </table>

    <div class="label supa-lbl reveal" style="margin-top:28px">Database + Storage SDK Calls</div>
    <table class="ref-table reveal">
      <thead><tr><th>Action</th><th>Code</th></tr></thead>
      <tbody>
        <tr><td>Select all</td><td><code>supabase.from('tracks').select('*')</code></td></tr>
        <tr><td>Filter</td><td><code>.from('tracks').select('*').eq('user_id', userId)</code></td></tr>
        <tr><td>Insert</td><td><code>.from('tracks').insert([{ title, artist, user_id }])</code></td></tr>
        <tr><td>Update</td><td><code>.from('tracks').update({ title }).eq('id', trackId)</code></td></tr>
        <tr><td>Delete</td><td><code>.from('tracks').delete().eq('id', trackId)</code></td></tr>
        <tr><td>Order</td><td><code>.select('*').order('created_at', { ascending: false })</code></td></tr>
        <tr><td>Upload file</td><td><code>supabase.storage.from('bucket').upload(path, file)</code></td></tr>
        <tr><td>Get URL</td><td><code>supabase.storage.from('bucket').getPublicUrl(path)</code></td></tr>
        <tr><td>Delete file</td><td><code>supabase.storage.from('bucket').remove([path])</code></td></tr>
      </tbody>
    </table>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  05 — ENV VARS
════════════════════════════════════════════════════════════ -->
<section id="envvars">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--rose)"></div>
      <span class="sec-num">05</span>
      <div class="sec-title-block">
        <h2>Environment Variables & Key Safety</h2>
        <p>Never expose your secrets</p>
      </div>
    </div>

    <p class="section-intro reveal">API keys and database credentials must never be hardcoded. If you push a real key to a public GitHub repo, automated scanners can steal it within minutes.</p>

    <div class="two-col reveal" style="margin-bottom:24px">
      <div>
        <div class="label" style="color:var(--rose); margin-top:0">Bad — never do this</div>
        <div class="code-block">
          <div class="code-header"><span class="code-label">❌ Hardcoded key</span></div>
          <pre><span class="cm">// visible to everyone in your source code</span>
<span class="kw">const</span> url = <span class="st">'https://abc123.supabase.co'</span>
<span class="kw">const</span> key = <span class="st">'sk-ant-api03-...'</span></pre>
        </div>
      </div>
      <div>
        <div class="label" style="color:var(--emerald); margin-top:0">Good — do this</div>
        <div class="code-block">
          <div class="code-header"><span class="code-label">✓ Environment variable</span></div>
          <pre><span class="cm">// value comes from .env — never in code</span>
<span class="kw">const</span> url = import.meta.env.VITE_SUPABASE_URL
<span class="kw">const</span> key = import.meta.env.VITE_SUPABASE_ANON_KEY</pre>
        </div>
      </div>
    </div>

    <div class="steps">
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(244,63,94,0.1)"><span style="color:var(--rose)">1</span></div>
        <div class="step-body">
          <h3>Create a .env file in your project root</h3>
          <p>In VS Code: right-click the project root folder → New File → name it <code>.env</code> (the dot is part of the name). It sits at the same level as <code>package.json</code>.</p>
          <p class="note-text">⚠ Hidden files like .env don't show in Finder by default — that's normal.</p>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(244,63,94,0.1)"><span style="color:var(--rose)">2</span></div>
        <div class="step-body">
          <h3>Add your variables</h3>
          <div class="code-block"><div class="code-header"><span class="code-label">.env — format is KEY=value, no quotes</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>VITE_SUPABASE_URL=https://xxxxxxxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_CLOUDFLARE_WORKER_URL=https://my-worker.workers.dev</pre></div>
          <p class="note-text">No quotes. No spaces around =. The VITE_ prefix is required for Vite/React apps.</p>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(244,63,94,0.1)"><span style="color:var(--rose)">3</span></div>
        <div class="step-body">
          <h3>Add .env to .gitignore</h3>
          <p>Open your <code>.gitignore</code> and make sure these are in it:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">.gitignore</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>.env
.env.local
.env.production</pre></div>
        </div>
      </div>

      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(244,63,94,0.1)"><span style="color:var(--rose)">4</span></div>
        <div class="step-body">
          <h3>Add variables to your deployment platforms</h3>
          <p>Your .env only works locally. For live apps you must add each variable to the platform:</p>
          <p><strong>Vercel:</strong> Project Settings → Environment Variables → add each one</p>
          <p><strong>Cloudflare Workers:</strong> Worker → Settings → Variables → add + Encrypt</p>
          <p><strong>GitHub Actions:</strong> Repo → Settings → Secrets and Variables → Actions → New secret</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  06 — CLOUDFLARE
════════════════════════════════════════════════════════════ -->
<section id="cloudflare" style="background:var(--bg2)">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--cf)"></div>
      <span class="sec-num">06</span>
      <div class="sec-title-block">
        <h2>Cloudflare Workers</h2>
        <p>API protection — manual dashboard method, no Wrangler required</p>
      </div>
    </div>

    <p class="section-intro reveal">
      A Worker sits between your app and any external API. Your frontend never holds the real API key — the Worker holds it server-side and forwards requests. This is how you protect Anthropic, OpenAI, and any other paid API keys.
    </p>

    <div class="flow-diagram reveal">
      <div class="flow-node">
        <div class="fn-label">Your React App</div>
        <div class="fn-sub">calls Worker URL</div>
      </div>
      <div class="flow-arrow">→</div>
      <div class="flow-node highlight">
        <div class="fn-label">Cloudflare Worker</div>
        <div class="fn-sub">holds secret keys</div>
      </div>
      <div class="flow-arrow">→</div>
      <div class="flow-node">
        <div class="fn-label">Anthropic / Supabase</div>
        <div class="fn-sub">real API</div>
      </div>
    </div>

    <div class="steps">
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(243,128,32,0.1)"><span style="color:var(--cf)">1</span></div>
        <div class="step-body">
          <h3>Create a Cloudflare account</h3>
          <p>Go to <strong>cloudflare.com</strong> → Sign up (free). No credit card needed. Free tier = 100,000 Worker requests/day.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(243,128,32,0.1)"><span style="color:var(--cf)">2</span></div>
        <div class="step-body">
          <h3>Create a new Worker</h3>
          <p>Dashboard sidebar → <strong>Workers & Pages</strong> → Create Application → Create Worker. Give it a meaningful name (e.g. <code>my-app-api-proxy</code>) → Deploy.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(243,128,32,0.1)"><span style="color:var(--cf)">3</span></div>
        <div class="step-body">
          <h3>Replace the Worker code</h3>
          <p>Click <strong>Edit Code</strong> on your Worker → select all → delete → paste your Worker code below → Save and Deploy.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(243,128,32,0.1)"><span style="color:var(--cf)">4</span></div>
        <div class="step-body">
          <h3>Add secret keys to the Worker</h3>
          <p>Worker dashboard → <strong>Settings tab → Variables → Environment Variables</strong> → Add Variable → Name: <code>ANTHROPIC_API_KEY</code>, Value: your actual key → check <strong>Encrypt</strong> → Save and Deploy.</p>
          <p class="note-text">Encrypted variables are never visible again after saving — stored securely on Cloudflare's side.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col" style="background:rgba(243,128,32,0.1)"><span style="color:var(--cf)">5</span></div>
        <div class="step-body">
          <h3>Copy your Worker URL to .env</h3>
          <p>Your Worker URL is shown at the top of the dashboard. Format: <code>https://worker-name.your-account.workers.dev</code></p>
          <div class="code-block"><div class="code-header"><span class="code-label">.env</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>VITE_WORKER_URL=https://my-worker.your-account.workers.dev</pre></div>
        </div>
      </div>
    </div>

    <div class="label cf-lbl reveal" style="margin-top:36px">Anthropic proxy — Worker code template</div>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">Worker — paste this into the editor</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="kw">export default</span> {
  <span class="kw">async</span> <span class="fn">fetch</span>(request, env) {
    <span class="cm">// Handle CORS preflight</span>
    <span class="kw">if</span> (request.method === <span class="st">'OPTIONS'</span>) {
      <span class="kw">return new</span> Response(<span class="nu">null</span>, {
        headers: {
          <span class="st">'Access-Control-Allow-Origin'</span>: <span class="st">'*'</span>,
          <span class="st">'Access-Control-Allow-Methods'</span>: <span class="st">'POST, OPTIONS'</span>,
          <span class="st">'Access-Control-Allow-Headers'</span>: <span class="st">'Content-Type'</span>,
        }
      })
    }

    <span class="kw">const</span> body = <span class="kw">await</span> request.<span class="fn">json</span>()

    <span class="kw">const</span> response = <span class="kw">await</span> <span class="fn">fetch</span>(<span class="st">'https://api.anthropic.com/v1/messages'</span>, {
      method: <span class="st">'POST'</span>,
      headers: {
        <span class="st">'x-api-key'</span>: env.ANTHROPIC_API_KEY,
        <span class="st">'anthropic-version'</span>: <span class="st">'2023-06-01'</span>,
        <span class="st">'content-type'</span>: <span class="st">'application/json'</span>,
      },
      body: JSON.<span class="fn">stringify</span>(body),
    })

    <span class="kw">const</span> data = <span class="kw">await</span> response.<span class="fn">json</span>()
    <span class="kw">return new</span> Response(JSON.<span class="fn">stringify</span>(data), {
      headers: {
        <span class="st">'Content-Type'</span>: <span class="st">'application/json'</span>,
        <span class="st">'Access-Control-Allow-Origin'</span>: <span class="st">'*'</span>,
      }
    })
  }
}</pre>
    </div>

    <div class="label cf-lbl reveal" style="margin-top:28px">Calling your Worker from React</div>
    <div class="code-block reveal">
      <div class="code-header"><span class="code-label">React / TypeScript</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
      <pre><span class="kw">const</span> response = <span class="kw">await</span> <span class="fn">fetch</span>(import.meta.env.VITE_WORKER_URL, {
  method: <span class="st">'POST'</span>,
  headers: { <span class="st">'Content-Type'</span>: <span class="st">'application/json'</span> },
  body: JSON.<span class="fn">stringify</span>({
    model: <span class="st">'claude-sonnet-4-6'</span>,
    max_tokens: <span class="nu">1024</span>,
    messages: [{ role: <span class="st">'user'</span>, content: userMessage }]
  })
})
<span class="kw">const</span> data = <span class="kw">await</span> response.<span class="fn">json</span>()
<span class="kw">const</span> reply = data.content[<span class="nu">0</span>].text</pre>
    </div>
    <div class="info-box tip reveal" style="margin-top:16px"><span class="info-icon">TIP</span><p>To update Worker code: paste new code in the editor → Save and Deploy. No CLI, no Wrangler, no config files. Your manual dashboard approach is completely valid and how most solo devs do it.</p></div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  07 — VERCEL
════════════════════════════════════════════════════════════ -->
<section id="vercel">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:#fff"></div>
      <span class="sec-num">07</span>
      <div class="sec-title-block">
        <h2>Vercel Deployment</h2>
        <p>Shipping your app to the world</p>
      </div>
    </div>

    <p class="section-intro reveal">
      Vercel connects to your GitHub repo and auto-redeploys every time you push. It handles building, hosting, SSL, and global CDN — all free on the Hobby plan. This is the fastest path from code to live URL.
    </p>

    <div class="steps">
      <div class="step-card reveal">
        <div class="step-num-col"><span style="color:var(--white)">1</span></div>
        <div class="step-body">
          <h3>Create a Vercel account</h3>
          <p>Go to <strong>vercel.com</strong> → Sign up with GitHub. Using your GitHub account lets Vercel access your repos directly.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col"><span style="color:var(--white)">2</span></div>
        <div class="step-body">
          <h3>Import your project</h3>
          <p>Dashboard → <strong>Add New → Project → Import Git Repository</strong> → find your repo → Import.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col"><span style="color:var(--white)">3</span></div>
        <div class="step-body">
          <h3>Verify build settings</h3>
          <p>Usually auto-detected. Confirm these are correct:</p>
          <table class="ref-table" style="margin:10px 0">
            <tbody>
              <tr><td>Framework Preset</td><td>Vite</td></tr>
              <tr><td>Build Command</td><td><code>npm run build</code></td></tr>
              <tr><td>Output Directory</td><td><code>dist</code></td></tr>
              <tr><td>Install Command</td><td><code>npm install</code></td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col"><span style="color:var(--white)">4</span></div>
        <div class="step-body">
          <h3>Add environment variables BEFORE deploying</h3>
          <p>Expand the <strong>Environment Variables</strong> section before clicking Deploy. Add each variable from your .env file:</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Vercel env vars</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>VITE_SUPABASE_URL          = https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY     = eyJhb...
VITE_CLOUDFLARE_WORKER_URL = https://xxx.workers.dev</pre></div>
          <p class="note-text">Missing env vars are the #1 cause of failed or broken Vercel deployments.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col"><span style="color:var(--white)">5</span></div>
        <div class="step-body">
          <h3>Click Deploy — then you're live</h3>
          <p>Takes ~60-120 seconds. You get a live URL: <code>your-project.vercel.app</code>.</p>
        </div>
      </div>
      <div class="step-card reveal">
        <div class="step-num-col"><span style="color:var(--white)">6</span></div>
        <div class="step-body">
          <h3>Every future update is 3 commands</h3>
          <div class="code-block"><div class="code-header"><span class="code-label">Deploy update</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>git add .
git commit -m "describe your change"
git push</pre></div>
          <p>Vercel detects the push and auto-redeploys. Monitor builds in the Deployments tab.</p>
        </div>
      </div>
    </div>
    <div class="info-box warn reveal" style="margin-top:20px"><span class="info-icon">WARN</span><p>Build failed? Click the failed deployment to see logs. <strong>9 times out of 10 it's a missing environment variable</strong> or a TypeScript error that only surfaces during the strict production build.</p></div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  08 — TROUBLESHOOTING
════════════════════════════════════════════════════════════ -->
<section id="troubleshoot" style="background:var(--bg2)">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--amber)"></div>
      <span class="sec-num">08</span>
      <div class="sec-title-block">
        <h2>Troubleshooting & Common Fixes</h2>
        <p>Solutions to issues you will definitely hit</p>
      </div>
    </div>

    <p class="section-intro reveal">Every developer hits these same walls. Click any problem to see the fix.</p>

    <div class="trouble-grid" id="trouble-grid">

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-supa">Supabase</span>
          <span class="trouble-problem">Login fails — user can't sign in</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Email confirmation is blocking the login.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">SQL Editor fix</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>UPDATE auth.users
SET
  email_confirmed_at = now(),
  confirmed_at = now()
WHERE email = 'your@email.com';</pre></div>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-supa">Supabase</span>
          <span class="trouble-problem">RLS blocking all queries — getting empty results</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">RLS is enabled but no policies exist. You need SELECT/INSERT/DELETE policies.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">SQL Editor — check existing policies</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>SELECT policyname, cmd, qual
FROM pg_policies
WHERE tablename = 'your_table';

<span class="cm">-- Temporarily disable RLS for testing only:</span>
ALTER TABLE public.tracks DISABLE ROW LEVEL SECURITY;</pre></div>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-supa">Supabase</span>
          <span class="trouble-problem">Column doesn't exist error after adding a field</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">You updated your TypeScript types but didn't run the ALTER TABLE in Supabase SQL Editor.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">SQL Editor</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>ALTER TABLE public.profiles
ADD COLUMN IF NOT EXISTS new_field text;</pre></div>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-supa">Supabase</span>
          <span class="trouble-problem">Storage upload returns 403 Forbidden</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Bucket policy is blocking uploads. Add an INSERT policy for authenticated users.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">SQL Editor</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>CREATE POLICY "Allow uploads"
  ON storage.objects FOR INSERT
  WITH CHECK (
    bucket_id = 'your-bucket'
    AND auth.role() = 'authenticated'
  );</pre></div>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-supa">Supabase</span>
          <span class="trouble-problem">Profile not created when user signs up</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">The trigger function doesn't exist. Run the auto-create trigger from Section 04.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">SQL Editor — check trigger</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>SELECT * FROM information_schema.triggers
WHERE trigger_name = 'on_auth_user_created';</pre></div>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-cf">Cloudflare</span>
          <span class="trouble-problem">CORS error in browser console</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Worker is missing Access-Control-Allow-Origin headers. Use the full Worker template from Section 06 which includes OPTIONS handling.</p>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-cf">Cloudflare</span>
          <span class="trouble-problem">env.MY_KEY is undefined in Worker</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">You added the variable but forgot to click Save and Deploy after.</p>
          <p style="font-size:13px; color:var(--muted2)">Go to Worker → Settings → Variables → verify the variable exists → click <strong>Save and Deploy</strong>.</p>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-cf">Cloudflare</span>
          <span class="trouble-problem">Worker returns 500 / internal error</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Check the Worker logs: Dashboard → Worker → <strong>Logs tab</strong>. Usually a missing env variable or malformed request body.</p>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-vercel">Vercel</span>
          <span class="trouble-problem">Build fails on Vercel — works fine locally</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Almost always a missing environment variable or a TypeScript error that only surfaces in strict mode.</p>
          <p style="font-size:13px; color:var(--muted2); margin-top:8px">Check: Project → Deployments → click the failed build → read the logs. The exact error is in there.</p>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-vercel">Vercel</span>
          <span class="trouble-problem">App deploys but is blank / white screen</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Missing VITE_ environment variables — the app built but can't connect to anything.</p>
          <p style="font-size:13px; color:var(--muted2); margin-top:8px">Go to Vercel → Project → Settings → Environment Variables and add all missing VITE_ keys. Then trigger a Redeploy.</p>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-git">Git</span>
          <span class="trouble-problem">git push rejected — non-fast-forward</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Remote has commits your local branch doesn't have. Pull first, then push.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>git pull
git push</pre></div>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-git">Git</span>
          <span class="trouble-problem">Pushed .env file by accident</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">Remove it from tracking, then rotate ALL exposed keys immediately.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>git rm --cached .env
git commit -m "remove .env from tracking"
git push</pre></div>
          <p style="font-size:13px; color:var(--rose); margin-top:8px">Then immediately go to each service and regenerate/rotate the exposed keys.</p>
        </div>
      </div>

      <div class="trouble-card reveal">
        <div class="trouble-header" onclick="toggleTrouble(this)">
          <span class="trouble-tag tag-git">Git</span>
          <span class="trouble-problem">Pushed node_modules by accident</span>
          <span class="trouble-arrow">›</span>
        </div>
        <div class="trouble-body">
          <p class="trouble-cause">node_modules wasn't in .gitignore when you first committed.</p>
          <div class="code-block"><div class="code-header"><span class="code-label">Terminal</span><button class="copy-btn" onclick="copyCode(this)">copy</button></div>
          <pre>git rm -r --cached node_modules
git commit -m "remove node_modules"
git push</pre></div>
          <p style="font-size:13px; color:var(--muted2); margin-top:8px">Then add <code>node_modules/</code> to your .gitignore.</p>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════════
  09 — CHEATSHEET
════════════════════════════════════════════════════════════ -->
<section id="cheatsheet">
  <div class="section">
    <div class="sec-header reveal">
      <div class="accent-bar" style="background:var(--indigo)"></div>
      <span class="sec-num">09</span>
      <div class="sec-title-block">
        <h2>Quick Reference Cheatsheet</h2>
        <p>Everything on one page</p>
      </div>
    </div>

    <div class="cheat-grid">
      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--indigo2)">Terminal</div>
        <div class="cheat-row"><div class="cheat-cmd">pwd</div><div class="cheat-desc">Where am I?</div></div>
        <div class="cheat-row"><div class="cheat-cmd">ls -la</div><div class="cheat-desc">List + hidden files</div></div>
        <div class="cheat-row"><div class="cheat-cmd">cd folder</div><div class="cheat-desc">Enter folder</div></div>
        <div class="cheat-row"><div class="cheat-cmd">cd ..</div><div class="cheat-desc">Go up one level</div></div>
        <div class="cheat-row"><div class="cheat-cmd">mkdir name</div><div class="cheat-desc">Create folder</div></div>
        <div class="cheat-row"><div class="cheat-cmd">rm -rf folder</div><div class="cheat-desc">Delete folder (careful!)</div></div>
        <div class="cheat-row"><div class="cheat-cmd">clear</div><div class="cheat-desc">Clear screen</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Tab / ↑ arrow</div><div class="cheat-desc">Autocomplete / recall cmd</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--emerald)">NPM</div>
        <div class="cheat-row"><div class="cheat-cmd">npm install</div><div class="cheat-desc">Install deps</div></div>
        <div class="cheat-row"><div class="cheat-cmd">npm run dev</div><div class="cheat-desc">Start dev server</div></div>
        <div class="cheat-row"><div class="cheat-cmd">npm run build</div><div class="cheat-desc">Build for production</div></div>
        <div class="cheat-row"><div class="cheat-cmd">npm install pkg</div><div class="cheat-desc">Add package</div></div>
        <div class="cheat-row"><div class="cheat-cmd">npm install -D pkg</div><div class="cheat-desc">Add dev dependency</div></div>
        <div class="cheat-row"><div class="cheat-cmd">npm uninstall pkg</div><div class="cheat-desc">Remove package</div></div>
        <div class="cheat-row"><div class="cheat-cmd">node -v</div><div class="cheat-desc">Check Node version</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--purple)">Git / GitHub</div>
        <div class="cheat-row"><div class="cheat-cmd">git init</div><div class="cheat-desc">Start tracking</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git add .</div><div class="cheat-desc">Stage all changes</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git commit -m ""</div><div class="cheat-desc">Save snapshot</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git push</div><div class="cheat-desc">Upload to GitHub</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git pull</div><div class="cheat-desc">Download changes</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git status</div><div class="cheat-desc">See what changed</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git stash</div><div class="cheat-desc">Temp save changes</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git log --oneline</div><div class="cheat-desc">View history</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--supa)">Supabase — Auth</div>
        <div class="cheat-row"><div class="cheat-cmd">auth.signUp()</div><div class="cheat-desc">Register user</div></div>
        <div class="cheat-row"><div class="cheat-cmd">auth.signInWithPassword()</div><div class="cheat-desc">Login</div></div>
        <div class="cheat-row"><div class="cheat-cmd">auth.signOut()</div><div class="cheat-desc">Logout</div></div>
        <div class="cheat-row"><div class="cheat-cmd">auth.getUser()</div><div class="cheat-desc">Current user</div></div>
        <div class="cheat-row"><div class="cheat-cmd">onAuthStateChange()</div><div class="cheat-desc">Auth listener</div></div>
        <div class="cheat-row"><div class="cheat-cmd">auth.getSession()</div><div class="cheat-desc">Get session</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--supa)">Supabase — Database</div>
        <div class="cheat-row"><div class="cheat-cmd">.select('*')</div><div class="cheat-desc">Get all rows</div></div>
        <div class="cheat-row"><div class="cheat-cmd">.eq('col', val)</div><div class="cheat-desc">Filter rows</div></div>
        <div class="cheat-row"><div class="cheat-cmd">.insert([{...}])</div><div class="cheat-desc">Add row</div></div>
        <div class="cheat-row"><div class="cheat-cmd">.update({}).eq()</div><div class="cheat-desc">Update row</div></div>
        <div class="cheat-row"><div class="cheat-cmd">.delete().eq()</div><div class="cheat-desc">Delete row</div></div>
        <div class="cheat-row"><div class="cheat-cmd">.order('col', {})</div><div class="cheat-desc">Sort results</div></div>
        <div class="cheat-row"><div class="cheat-cmd">.limit(10)</div><div class="cheat-desc">Limit results</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--supa)">Supabase — SQL Fixes</div>
        <div class="cheat-row"><div class="cheat-cmd">UPDATE auth.users SET email_confirmed...</div><div class="cheat-desc">Fix login block</div></div>
        <div class="cheat-row"><div class="cheat-cmd">ALTER TABLE t ADD COLUMN IF NOT EXISTS</div><div class="cheat-desc">Add column</div></div>
        <div class="cheat-row"><div class="cheat-cmd">ALTER TABLE t ENABLE ROW LEVEL SECURITY</div><div class="cheat-desc">Enable RLS</div></div>
        <div class="cheat-row"><div class="cheat-cmd">CREATE POLICY ... USING (auth.uid()=)</div><div class="cheat-desc">Add RLS policy</div></div>
        <div class="cheat-row"><div class="cheat-cmd">SELECT * FROM pg_policies WHERE...</div><div class="cheat-desc">Check policies</div></div>
        <div class="cheat-row"><div class="cheat-cmd">TRUNCATE TABLE public.table_name</div><div class="cheat-desc">Clear all rows</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--cf)">Cloudflare Workers</div>
        <div class="cheat-row"><div class="cheat-cmd">Workers & Pages → Create</div><div class="cheat-desc">New Worker</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Edit Code → paste → Save & Deploy</div><div class="cheat-desc">Update code</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Settings → Variables → Encrypt</div><div class="cheat-desc">Add secret key</div></div>
        <div class="cheat-row"><div class="cheat-cmd">env.KEY_NAME</div><div class="cheat-desc">Access key in Worker</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Access-Control-Allow-Origin: *</div><div class="cheat-desc">Enable CORS</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Worker → Logs tab</div><div class="cheat-desc">Debug errors</div></div>
      </div>

      <div class="cheat-card reveal">
        <div class="cheat-card-header" style="color:var(--white)">Vercel</div>
        <div class="cheat-row"><div class="cheat-cmd">New Project → Import GitHub</div><div class="cheat-desc">Deploy app</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Settings → Env Variables</div><div class="cheat-desc">Add VITE_ vars</div></div>
        <div class="cheat-row"><div class="cheat-cmd">git push → auto redeploy</div><div class="cheat-desc">Update live site</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Deployments tab → logs</div><div class="cheat-desc">Debug build</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Settings → Domains</div><div class="cheat-desc">Custom domain</div></div>
        <div class="cheat-row"><div class="cheat-cmd">Redeploy button</div><div class="cheat-desc">Force redeploy</div></div>
      </div>
    </div>
  </div>
</section>

<!-- ── FOOTER ─────────────────────────────────────────────────── -->
<footer>
  <div class="footer-inner">
    <div class="footer-logo">THE<span>_</span>STACK</div>
    <div class="footer-sub">// developer guide by GFB_Coder  •  2026</div>
    <div class="footer-links">
      <a href="#terminal">Terminal</a>
      <a href="#supabase">Supabase</a>
      <a href="#cloudflare">Cloudflare</a>
      <a href="#vercel">Vercel</a>
      <a href="#troubleshoot">Troubleshoot</a>
      <a href="#cheatsheet">Cheatsheet</a>
    </div>
    <div class="footer-credit">Built by a self-taught developer, for self-taught developers. Learn by doing. Ship before perfect.</div>
  </div>
</footer>

<script>
  // ── REVEAL ON SCROLL ────────────────────────────────────────
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((e, i) => {
      if (e.isIntersecting) {
        setTimeout(() => e.target.classList.add('visible'), i * 40);
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.07, rootMargin: '0px 0px -40px 0px' });

  document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

  // ── COPY BUTTONS ────────────────────────────────────────────
  function copyCode(btn) {
    const block = btn.closest('.code-block, .sql-card');
    const pre = block.querySelector('pre');
    const text = pre.innerText;
    navigator.clipboard.writeText(text).then(() => {
      btn.textContent = 'copied!';
      btn.classList.add('copied');
      setTimeout(() => { btn.textContent = 'copy'; btn.classList.remove('copied'); }, 2000);
    });
  }

  // ── TROUBLESHOOT ACCORDION ──────────────────────────────────
  function toggleTrouble(header) {
    const card = header.parentElement;
    const isOpen = card.classList.contains('open');
    document.querySelectorAll('.trouble-card.open').forEach(c => c.classList.remove('open'));
    if (!isOpen) card.classList.add('open');
  }

  // ── ACTIVE NAV ──────────────────────────────────────────────
  const sections = document.querySelectorAll('section[id], div[id="toc"]');
  const navLinks = document.querySelectorAll('.nav-links a');
  window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(s => {
      if (window.scrollY >= s.offsetTop - 80) current = s.id;
    });
    navLinks.forEach(a => {
      a.style.color = a.getAttribute('href') === '#' + current ? 'var(--white)' : '';
    });
  }, { passive: true });

  // ── PDF DOWNLOAD ────────────────────────────────────────────
  // Wire up PDF buttons — will link to PDF when hosted
  document.getElementById('dl-btn').addEventListener('click', (e) => {
    e.preventDefault();
    alert('Download the PDF from the guide repository on GitHub.');
  });
  document.getElementById('dl-btn2').addEventListener('click', (e) => {
    e.preventDefault();
    alert('Download the PDF from the guide repository on GitHub.');
  });
</script>
</body>
</html>
